/**************************************************************************/
/* FILE NAME: MAP.h                       COPYRIGHT (c) GL   2008         */
/* VERSION: 1.0                                   All Rights Reserved     */
/*                                                                        */
/* DESCRIPTION: This file contains MAPs                                   */
/*                                                                        */
/*========================================================================*/
/* HISTORY           ORIGINAL AUTHOR: colin                               */
/*                                                                        */
/* REV     AUTHOR       DATE       DESCRIPTION OF CHANGE                  */
/* ---   -----------  ---------    ---------------------                  */
/* 1.0      colin    2008-12-04    Initial version of function.           */
/* 2.0      colin    2012-09-14    CNG Version                            */
/**************************************************************************/

#ifndef _MAP_H
#define _MAP_H

/******************************************************************************
Table Name        	: 	
Description         : 	Sensor calibration
						
Warning  		    :  
******************************************************************************/
//进气温度map
uint16 un16TabMatAD[9]={
  104,104,104,104,161,250,731,876,1002
};

uint16 un16TabMatTemp[9]={           //MAT-40
  160,160,160,160,140,120,60,40, 0
};
//进气压力map
uint16 un16TabPresAD[9]={
  0,0,82,952,1024,1024,1024,1024,1024
};

uint16 un16TabPres[9]={             //kPa*10
  500,500,500,4000,4000,4000,4000,4000,4000
};
//水温传感器map
uint16 un16TabWatAD[9]={
  104,104,104,104,161,250,731,876,1002
};

uint16 un16TabWatTemp[9]={           //CWT-40
  160,160,160,160,140,120,60,40, 0
};
//燃气压力map
uint16 un16TabLNGPresAD[9]={
  102,102,102,102,922,922,922,922,922
};

uint16 un16TabLNGPres[9]={             //kPa
  0,0,0,0,20000,20000,20000,20000,20000
};

//排温map
uint16 un16TabExstTempAD[11]={             //AD
  171,202,265,303,336,365,391,414,435,453,470
};

uint16 un16TabExstTemp[11]={             //C
  0,100,200,300,400,500,600,700,800,900,1000
};

uint16 un16TabLambdaAD[9]={      //ad
  400,500,600,700,807,841,875,920,1012
   };
uint16 un16TabLambda[9]={      //
  650,700,800,900,1013,1180,1430,1700,2420
   };





/******************************************************************************
Table Name        	: 	
Description         : 基本喷气脉普，size:23*29
Warning  		    :
Table ID			:
******************************************************************************/

//==============================================//
//喷气map XY轴
/*===================================*/
uint16 u16TabSpeedX[20]={1000,1100,1200,1300,1400,1500,1600,1700,1800,1900,2000,2100,2200,2300,2400,2500,2600,2700,2800,3000};//unit: rpm
uint16 u16TabPedalY[15]={20,25,35,40,45,50,55,60,65,70,75,80,85,90,100}; //%油门开度

/*===================================*/
//起动油量map XY轴
/*===================================*/
uint16 u16TabCWTX[10]={10,20,30,40,50,60,70,80,90,100};//unit: rpm
uint16 u16TabSTSpeedY[30]={120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900};//unit: rpm

/*===================================*/
//供油提前角map XY轴
/*===================================*/
uint16 u16TabInjOilMoX[10]={5,10,15,20,25,30,35,40,45,50};//unit: rpm
uint16 u16TabOilAngleSpeedY[30]={120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900};//unit: rpm
uint16 u16TabSpeedY[30]={120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900};//unit: rpm
/*===================================*/
//怠速map
/*===================================*/
uint16 u16TabIdlingSpeed[10]={600,625,650,675,700,725,750,775,800,825};//unit: rp

uint16 u16TabDieselIdlingInjWidth[]= //怠速喷油map，单位us
{
  0,0,0,0,0,0,0,0,0,0
};
/*===================================*/
uint16 u16TabInjWidth[300]=//基本喷气脉普,单位:us
{
/*油门*/
/*开度*/                                                                                   
//转速 1000 1100 1200 1300 1400 1500 1600 1700 1800 1900 2000 2100 2200  

1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,13000,14000,15000,16000,17000,18000,1900,2000,
10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,
11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,
3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,
4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,
12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,
13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,
5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,
6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000, 
14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,  
15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,
7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000, 
8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000, 
16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,
9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,
};

/*engine running injection puluse width
row- map ATD vlaue
column- engine speed
table value- inj width; unit: us*/
//=============================================================//
uint16 u16TabStartOil[300]=//基本喷气脉普,单位:us
{
                  /*x 冷却水温度*/
/*y 转速*/        0,1,2,3,4,5,6,7,8,9,  
                  1,1,2,3,4,5,6,7,8,9,
                  2,1,2,3,4,5,6,7,8,9,
                  3,1,2,3,4,5,6,7,8,9,
                  4,1,2,3,4,5,6,7,8,9,
                  5,1,2,3,4,5,6,7,8,9,
                  6,1,2,3,4,5,6,7,8,9,
                  7,1,2,3,4,5,6,7,8,9,
                  8,1,2,3,4,5,6,7,8,9,
                  9,1,2,3,4,5,6,7,8,9,
                  10,1,2,3,4,5,6,7,8,9,  
                  11,1,2,3,4,5,6,7,8,9,
                  12,1,2,3,4,5,6,7,8,9,
                  13,1,2,3,4,5,6,7,8,9,
                  14,1,2,3,4,5,6,7,8,9,
                  15,1,2,3,4,5,6,7,8,9,
                  16,1,2,3,4,5,6,7,8,9,
                  17,1,2,3,4,5,6,7,8,9,
                  18,1,2,3,4,5,6,7,8,9,
                  19,1,2,3,4,5,6,7,8,9,
                  20,1,2,3,4,5,6,7,8,9,  
                  21,1,2,3,4,5,6,7,8,9,
                  22,1,2,3,4,5,6,7,8,9,
                  23,1,2,3,4,5,6,7,8,9,
                  24,1,2,3,4,5,6,7,8,9,
                  25,1,2,3,4,5,6,7,8,9,
                  26,1,2,3,4,5,6,7,8,9,
                  27,1,2,3,4,5,6,7,8,9,
                  28,1,2,3,4,5,6,7,8,9,
                  29,1,2,3,4,5,6,7,8,9,

};
uint16 u16TabOilAdAngle[300]=//供油提前角,单位:
{
                  /*x 供油量*/
/*y 转速*/        0,1,2,3,4,5,6,7,8,9,  
                  1,1,2,3,4,5,6,7,8,9,
                  2,1,2,3,4,5,6,7,8,9,
                  3,1,2,3,4,5,6,7,8,9,
                  4,1,2,3,4,5,6,7,8,9,
                  5,1,2,3,4,5,6,7,8,9,
                  6,1,2,3,4,5,6,7,8,9,
                  7,1,2,3,4,5,6,7,8,9,
                  8,1,2,3,4,5,6,7,8,9,
                  9,1,2,3,4,5,6,7,8,9,
                  10,1,2,3,4,5,6,7,8,9,  
                  11,1,2,3,4,5,6,7,8,9,
                  12,1,2,3,4,5,6,7,8,9,
                  13,1,2,3,4,5,6,7,8,9,
                  14,1,2,3,4,5,6,7,8,9,
                  15,1,2,3,4,5,6,7,8,9,
                  16,1,2,3,4,5,6,7,8,9,
                  17,1,2,3,4,5,6,7,8,9,
                  18,1,2,3,4,5,6,7,8,9,
                  19,1,2,3,4,5,6,7,8,9,
                  20,1,2,3,4,5,6,7,8,9,  
                  21,1,2,3,4,5,6,7,8,9,
                  22,1,2,3,4,5,6,7,8,9,
                  23,1,2,3,4,5,6,7,8,9,
                  24,1,2,3,4,5,6,7,8,9,
                  25,1,2,3,4,5,6,7,8,9,
                  26,1,2,3,4,5,6,7,8,9,
                  27,1,2,3,4,5,6,7,8,9,
                  28,1,2,3,4,5,6,7,8,9,
                  29,1,2,3,4,5,6,7,8,9,

};

//===============================================//
uint16 un16TabStepperCnt[14]={0, 100,200,300
,400,500, 600, 700, 800, 900, 1000,1100,1200,1300};// 电机步数 fzu AD值(自编)

uint16 un16TabStepperAD[14]={135,170,200,245,280,315, 352, 395, 440, 475, 505, 545, 580, 605};//  电阻尺AD值   fzu AD值(自编)x10
//===============================================//                  
uint16 un16TabPedalAD[11]={242,272,325,364,407,479,527,580,624,674,724}; //fzu
uint16 un16TabPedalADbuffer[11]={0,0,0,0,0,0,0,0,0,0,0}; //fzu
uint16 un16TabPedalPercent[11]={0,10,20,30, 40, 50, 60, 70, 80, 90, 100};//fzu unit:%

/*
#else
//Sensor
extern uint16 un16TabMatAD[9];
extern uint16 un16TabMatTemp[9];
extern uint16 un16TabPresAD[9];
extern uint16 un16TabPres[9];
extern uint16 un16TabWatAD[9];
extern uint16 un16TabWatTemp[9];
extern uint16 un16TabLNGPresAD[9];
extern uint16 un16TabLNGPres[9];
extern uint16 un16TabExstTempAD[11];
extern uint16 un16TabExstTemp[11];
extern uint16 un16TabLambdaAD[9];
extern uint16 un16TabLambda[9];



extern uint16 u16TabSpeedX[20];
extern uint16 u16TabPedalY[15];
extern uint16 u16TabInjWidth[300];
extern uint16 u16TabStepperPos[300];
extern uint16 un16TabStepperCnt[14];
extern uint16 un16TabStepperAD[14];
extern uint16 un16TabPedalAD[11];
extern uint16 un16TabPedalPercent[11];
2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,
2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000, 
3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000, 
3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,
4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,
4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,4000,
5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000, 
5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,5000,
6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000, 
6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,6000,  
7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000, 
7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000,7000, 
8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000, 
8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,8000,
9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,9000,

10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,
10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,
11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,
11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,11000,
12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,
12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,12000,
13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,
13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,13000,
14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,
14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,14000,
15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,
15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,15000,
16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,
16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,16000,
17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,
17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,17000,
18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,
18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,18000,
19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,
19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,19000,
20000,20000,20000,20000,20000,20000,20000,20000,20000,20000,20000,20000,20000,20000,20000,20000,20000,20000,20000,20000,
*/
#endif
